\section{Konzept}\label{sec:konzept}
\subsection{Systemarchitektur}\label{subsec:systemarchitektur}
\subsubsection*{Überblick}

Für das Cloudbasierte Praxisruf System sehen wir fünf Komponenten vor:

\begin{itemize}
    \item Messaging Service
    \item Cloud Service
    \item Mobile Client
    \item Admin UI
    \item VOIP Mediator
\end{itemize}


\begin{figure}
    \centering
    \includegraphics[width=\linewidth]{graphics/IP5_POC_Cloud_Architecture}\label{fig:architecure}
\end{figure}


\subsubsection*{Mobile Client}

\begin{itemize}
    \item Der Mobile Client implementiert die Anbindung an den Messaging Service.
    \item Als Reaktion auf eine Notification wird eine Rückmeldung im UI angezeigt.
    \item Als Reaktion auf eine Notification wird eine OS Push Notifikation gesendet.
    Das UI bietet einen Button der eine Anfrage an die REST Schnittstelle im Cloud Service sendet.
\end{itemize}


\subsubsection*{Cloud Service}

\begin{itemize}
    \item Responsibilities (Notification and Configuration)
    \item Microservice Granularity
\end{itemize}


\subsubsection*{Messaging Service}

\begin{itemize}
    \item Dies wird ein externer Service den wir in die Applikationen einbinden. Standard hierfür ist Firebase Notifications.
    \item Der Messaging Service nimmt Notifikationen vom Cloud Service entgegen und gibt diese an den Mobile Client wieder.
    \item Dafür müssen auf beiden Seiten Komponenten eingebaut werden, die mit dem Messaging Service kommunizieren.
\end{itemize}

\clearpage

\subsection{Mobile Client}\label{subsec:mobile-client}

\subsubsection{Framework Grundlagen}
NativeScript bietet eine Abstraktion zu den nativen Plattformen Android und IOS.
Die jeweilige NativeScript Runtime erlaubt es in Javascript (oder einem entsprechenden Application Framework) Code zu schreiben,
welcher direkt für die entsprechende native Umgebung kompiliert wird~\cite{ns-core-overview}.
\begin{figure}[h]
    \centering
    \label{fig:howNSWorks}
    \includegraphics[width=0.7\textwidth]{graphics/ns-common}\caption[NativeScript-Overview]{NativeScript-Overview}\textcopyright OpenJS Foundation
\end{figure}


Die Runtime agiert als Proxy zwischen Javascript und dem jeweiligen Ökosystem.
Im Falle von IOS bedeutet dies u.A. das für alle Objective-C types ein JavaScript Prototype angeboten wird.
Dies ermöglicht es direkt mit nativen Objekten zu interagieren.
Im Umkehrschluss findet eine Typenkonversion via Marshalling Service statt\cite{ns-ios-runtime}.

\subsubsection{Architektur}
Wir verwenden NativeScript Core als Framework des Mobile-Clients.
In Kapitel \emph{\nameref{subsec:mobile-client-eval}} gehen wir auf die weiteren verfügbaren Frameworks ein und erläutern, weshalb wir uns gegen sie entschieden haben.

\clearpage

\subsubsection{User Interface}
\begin{figure}[h]
    \centering
    \begin{minipage}[b]{0.4\textwidth}
        \includegraphics[width=\textwidth]{graphics/homescreen-mockup}
        \caption{HomeScreen Mockup}
    \end{minipage}
    \hfill
    \begin{minipage}[b]{0.4\textwidth}
        \includegraphics[width=\textwidth]{graphics/mockup-received}
        \caption{Inbox Mockup}
    \end{minipage}\label{fig:MobileClient-Mocks}
\end{figure}


\clearpage

\subsection{Cloud Service}\label{subsec:cloud-service}

\subsubsection{Architektur}

\subsubsection{Domänenmodell}

\subsubsection{Laufzeitmodell}

\clearpage

\subsection{Admin UI}\label{subsec:admin-ui}

\clearpage

\subsection{Proof Of Concept}\label{subsec:proof-of-concept}
\subsubsection*{Anforderungen}
\begin{itemize}
    \item Als \textless Sender Rolle\textgreater möchte ich Notifikationen versenden können.
    \item Als \textless Empfänger Rolle\textgreater möchte ich Notifikationen in der Applikation sehen, wenn die Applikation geöffnet ist.
    \item Als \textless Empfänger Rolle\textgreater möchte ich Notifikationen über das OS erhalten, wenn die Applikation minimiert ist.
\end{itemize}
\subsubsection*{Restriktionen}
\begin{itemize}
    \item Nur 1 Client.
    \item Nur 1 fixe Notifikation. Keine Types.
    \item Notifikation wird vom Client gesendet und vom selben Client empfangen.
    \item Keine Authentication oder Authorization.
\end{itemize}
